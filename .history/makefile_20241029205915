main: main.c \
		redirect.c split.c abspath.c \
		redirect.h split.h abspath.h
	gcc -o main main.c redirect.c split.c abspath.c

results: main
	(echo "Test 1: wc -w"; ./main input.txt "wc -w" output.txt; \
	cat output.txt; echo; \
	echo "Test 2: wc -l"; ./main input.txt "wc -l" output.txt; \
	cat output.txt; echo; \
	echo "Test 3: ls"; ./main input.txt "/bin/ls" output.txt; \
	cat output.txt; echo) \
		> results.txt 2>&1

clean:
	rm -f main output.txt results.txt
