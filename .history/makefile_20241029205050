main: main.c \
		redirect.c split.c abspath.c \
		redirect.h split.h abspath.h
	gcc -o main main.c redirect.c split.c abspath.c

results: thready
	(echo "Pattern 1:"; ./thready 1 ${shell bc --expression="$$RANDOM % 15 + 5"}; \
	echo; \
	echo "Pattern 2:"; ./thready 2 ${shell bc --expression="$$RANDOM % 15 + 5"}; \
	echo; \
	echo "Pattern 3:"; ./thready 3 ${shell bc --expression="$$RANDOM % 20 + 5"}) \
		> results.txt 2>&1

clean:
	rm -f thready

